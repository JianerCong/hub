
\usepackage{geometry}\geometry{
a4paper,
total={170mm,257mm},
left=20mm,
top=20mm,
}


\usepackage[inkscapearea=page]{svg}
% üê¢ : I guess what we need is to just include the page... not the whole
% drawing... So set inkscapearea=page should work... If not, delete the
% .\svg-inkscape and try again. (this pkg does some magical caching..)
\usepackage[skip=5pt plus1pt, indent=0pt]{parskip}
% Color
\newcommand{\mycola}{MidnightBlue}
\newcommand{\mycolb}{Mahogany}
\newcommand{\mycolc}{OliveGreen}

\newcommand{\mycoli}{\mycolb}
\newcommand{\mycolii}{\mycola!30!\mycolb}
\newcommand{\mycoliii}{\mycola!70!\mycolb}
\newcommand{\mycoliv}{\mycola!90!\mycolb}
\newcommand{\mycolv}{\mycola}

\newcommand{\cola}[1]{\textcolor{\mycola}{#1}}
\newcommand{\colb}[1]{\textcolor{\mycolb}{#1}}
\newcommand{\colc}[1]{\textcolor{\mycolc}{#1}}
\newcommand{\Cola}[1]{\textcolor{\mycola}{\textbf{#1}}}

\newcommand{\coli}[1]{\textcolor{\mycoli}{#1}}
\newcommand{\colii}[1]{\textcolor{\mycolii}{#1}}
\newcommand{\coliii}[1]{\textcolor{\mycoliii}{#1}}
\newcommand{\coliv}[1]{\textcolor{\mycoliv}{#1}}
\newcommand{\colv}[1]{\textcolor{\mycolv}{#1}}

% ü¶ú : \textcolor doesn't allow multiple paragraphs in it, so we used {\color{...}}
\newcommand{\colZ}[1]{
{\color{black}#1}
} %go back
\newcommand{\colz}[1]{
{\color{gray}#1}
}

% \let\emph\relax % there's no \RedeclareTextFontCommand
% \DeclareTextFontCommand{\emph}{\bfseries}
\renewcommand{\emph}[1]{\texbf{#1}}
\usepackage{amssymb}            %\mathbb

\usepackage{fontspec}

\setmonofont{Cascadia}[
Path=/usr/share/fonts/truetype/Cascadia_Code/,
Scale=0.85,
Extension = .ttf,
UprightFont=*Code,              %find CascadiaCode.ttf
BoldFont=*CodePL,               %find CascadiaCodePL.ttf ...
ItalicFont=*CodeItalic,
BoldItalicFont=*CodePLItalic
]
% --------------------------------------------------
% Windows
% \setmonofont{Cascadia}[
% Path=C:/Windows/Fonts/,
% Extension = .ttf,
% UprightFont=*Mono,              %find CascadiaMono.ttf
% BoldFont=*Code,               %find CascadiaCodePL.ttf ...
% ItalicFont=*Code,
% BoldItalicFont=*Code
% ]


\usepackage{minted}
\usepackage{tcolorbox}
\tcbuselibrary{skins}
\tcbuselibrary{minted}
\usepackage{tikz}
\usetikzlibrary{shapes} % ellipse node shape
\usetikzlibrary{shapes.multipart} % for line breaks in node text
\usetikzlibrary{arrows.meta}    %-o arrow head
\usetikzlibrary{arrows}
\usetikzlibrary{matrix}
\usetikzlibrary{snakes}

\usepackage{amsmath}
% ??? still xelatex?
% \usepackage{xeCJK}
\usepackage{emoji}
% \setemojifont{NotoColorEmoji.ttf}[Path=C:/Users/congj/repo/myFonts/]
% \setemojifont{TwitterColorEmoji-SVGinOT.ttf}[Path=C:/Users/congj/repo/myFonts/]


\newtcolorbox[auto counter]{myBox}[2][]{
fonttitle=\bfseries,title={ÂÖ±ËØÜ~\thetcbcounter: #2},#1
}
\newtcolorbox[]{noteBox}[1][]{
tile,left=1mm,nobeforeafter,fontupper=\small,#1
}

\tikzstyle{myNode}=[inner sep=2pt,circle,text=white]
\date{\today}
\author{‰ΩúËÄÖ}

\newtcblisting{simplec}{
listing engine=minted,
minted language=c++,
minted style=vs,
minted options={fontsize=\small,autogobble,
% framesep=1cm
},
tile,
listing only,
% bottom=0cm,
% nobeforeafter, 
boxsep=0mm,
left=1mm,
opacityback=0.5,
colback=gray!20
}
\tcbuselibrary{breakable}
\newtcblisting{simplepy}{
listing engine=minted,
minted language=python,
minted style=vs,
minted options={fontsize=\small,autogobble,
% framesep=1cm
},
tile,
listing only,
% bottom=0cm,
% nobeforeafter,
boxsep=0mm,
left=1mm,
opacityback=0.5,
colback=gray!20,
breakable
}
\newtcolorbox{blackbox}{tile,colback=black,colupper=white,nobeforeafter,halign=flush center}

% \tikzstyle{myMatrix}=[matrix of nodes,below right,
% nodes={above,text centered},                  %apply to all nodes
% row sep=1cm,column sep=2cm]
% \tikzstyle{every node}=[inner sep=0pt]

\newcommand\uptoleft[3][-o]{\draw[very thick,#1](#2.south) |- (#3.west);}
\newcommand\uptodown[3][-o]{\draw[very thick,#1](#2.south) to [out=270,in=90] (#3.north);}
\newcommand\downtoup[3][-latex]{\draw[very thick,#1](#2.north) to [out=90,in=270] (#3.south);}

\newcommand\lefttoright[3][-latex]{\draw[very thick,#1](#2.east) to[out=0,in=180] (#3.west);}
\newcommand\lefttodown[3][-latex]{\draw[very thick,#1](#2.east) to[out=0,in=90] (#3.north);}

\newcommand{\topDialogBoxColored}[4][0.8\linewidth]{
  \node[above,text width=#1] at ([yshift=0.5cm]#2.north) {
    \begin{tcolorbox}[tile,
      nobeforeafter,
      boxsep=0pt,
      % show bounding box,
      colback=#4!10,
      overlay={
        \begin{scope}
          \fill[#4!10] (frame.south) --
          +(2mm,0) --
          +(0,-3mm) --
          +(-2mm,0)
          ;
        \end{scope}
      } ] #3
    \end{tcolorbox}
  };
}

\newcommand{\rightDialogBoxColored}[4][0.8\linewidth]{
  \node[right,text width=#1] at ([xshift=0.5cm]#2.east) {
    \begin{tcolorbox}[tile,
      nobeforeafter,
      boxsep=0pt,
      % show bounding box,
      colback=#4!10,
      overlay={
        \begin{scope}
          % \fill[gray!10] (frame.east) circle (2pt);
          \fill[#4!10] (frame.west) --
          +(0,2mm) --
          +(-3mm,0) --
          +(0,-2mm)
          ;
        \end{scope}
      } ] #3
    \end{tcolorbox}
  };
}

\newcommand{\rightDialogBox}[3][0.8\linewidth]{
% \node[right,text width=#1] at ([xshift=0.5cm]#2.east) {
% \begin{tcolorbox}[tile,
% nobeforeafter,
% boxsep=0pt,
% % show bounding box,
% colback=\mycola!10,
% overlay={
% \begin{scope}
% % \fill[gray!10] (frame.east) circle (2pt);
% \fill[\mycola!10] (frame.west) --
% +(0,2mm) --
% +(-3mm,0) --
% +(0,-2mm)
% ;
% \end{scope}
% } ] #3
% \end{tcolorbox}
% };
  \rightDialogBoxColored[#1]{#2}{#3}{\mycola}
}


\newcommand{\leftDialogBoxColored}[4][0.8\linewidth]{
  \node[left,text width=#1] at ([xshift=-0.5cm]#2.west) {
    \begin{tcolorbox}[tile,
      nobeforeafter,
      boxsep=0pt,
      % show bounding box,
      colback=#4!10,
      overlay={
        \begin{scope}
          % \fill[gray!10] (frame.east) circle (2pt);
          \fill[#4!10] (frame.east) --
          +(0,2mm) --
          +(3mm,0) --
          +(0,-2mm)
          ;
        \end{scope}
      } ] #3
    \end{tcolorbox}
  };
}

\newcommand{\leftDialogBox}[3][0.8\linewidth]{
% \node[left,text width=#1] at ([xshift=-0.5cm]#2.west) {
% \begin{tcolorbox}[tile,
% nobeforeafter,
% boxsep=0pt,
% % show bounding box,
% colback=gray!10,
% overlay={
% \begin{scope}
% % \fill[gray!10] (frame.east) circle (2pt);
% \fill[gray!10] (frame.east) --
% +(0,2mm) --
% +(3mm,0) --
% +(0,-2mm)
% ;
% \end{scope}
% } ] #3
% \end{tcolorbox}
% };
  \leftDialogBoxColored[#1]{#2}{#3}{gray}
}




\newcommand{\mycolaa}{\mycola!20}

\newcommand{\colZt}[1]{
  \colZ{\texttt{#1}}
}

\usepackage{changepage}   % for the adjustwidth environment
\newenvironment{myIndent}[1][7mm]{\begin{adjustwidth}{#1}{}}{\end{adjustwidth}}

\newcounter{myDefCounter}
\newcounter{myTheoCounter}

\tcbuselibrary{theorems}
\newtcbtheorem[use counter=myDefCounter,number within=section]{myDef}{Definition}%
{
% colback=green!5,colframe=green!35!black,
fonttitle=\bfseries}{def}

\newcommand{\myThmBeforeProof}{
\texttt{Proof: }\par
\begin{myIndent}
}

\newcommand{\myThmAfterProof}{
\end{myIndent}
\qed
}

\tcbuselibrary{skins}
\tcbsubskin{myThmSkin}{enhanced}{
parbox=false,
% colback=green!5,
colframe=\mycola,
fonttitle=\bfseries,
breakable,
before lower={\myThmBeforeProof{}},
after lower={\myThmAfterProof{}}
}

\newtcbtheorem[
use counter=myTheoCounter,number within=section
]{myTheo}{Theorem}%
{
skin=myThmSkin
}{thm}


\newtcbtheorem[use counter=myTheoCounter,number within=section]{myCor}{Corollary}%
{
% colback=green!5,
skin=myThmSkin
}{cor}

\newtcbtheorem[use counter=myTheoCounter,number within=section]{myLem}{Lemma}%
{% colback=green!5,
skin=myThmSkin
}{lem}

\newcommand{\refCorollary}[1]{Corollary~\ref{cor:#1}}
\newcommand{\refLemma}[1]{Lemma~\ref{lem:#1}}

\usepackage{hyperref}

\usepackage{cleveref}           %ü¶ú : must be loaded after hyperref
\crefname{myDefCounter}{definition}{definitions}
% ^^^ plural
\Crefname{myDefCounter}{Definition}{Definitions}
% ^^^^^^ type = counter name

\crefname{myTheoCounter}{theorem}{theorems}
\Crefname{myTheoCounter}{Theorem}{Theorems}

\usepackage{amsthm}             %for {proof}

\usepackage{tabularx}



\usepackage{enumitem}
\setlist[description]{leftmargin=0.1\linewidth,labelindent=0.1\linewidth}
\usepackage{placeins}           %for \FloatBarrier
% ü¶ú : Remember to specify the mode, because without a \documentclass{}, emacs
% will consider this as a plain TeX document.

% --------------------------------------------------
\newcommand{\ans}{
  % \newline{}
  \par
  \hspace{0.1\linewidth}
  % \phantom{Ans: }
  % \colz{Ans: }
  \tikz[baseline=.5em]{\draw[thick,\mycola] (0,0) -- (0.8\linewidth,0pt);}
  % \rule[-1em]{0.8\linewidth}{1pt}
}
\newcommand{\tf}{\Cola{\hfill[T/F]}}

\usepackage{tabularray}
\UseTblrLibrary{booktabs,siunitx}
% Local Variables:
% mode: LaTeX
% TeX-engine: luatex
% TeX-command-extra-options: "-shell-escape"
% TeX-master: "m.tex"
% TeX-parse-self: t
% TeX-auto-save: t
% End: