# -*- org-what-lang-is-for: "latex"; -*-
** tikz
*** name a coordinate
#+begin_src latex
\coordinate (content) at (90:3cm);
\coordinate (structure) at (210:3cm);
\coordinate (form) at (-30:3cm);
#+end_src
*** my macros
#+BEGIN_SRC latex
\newcommand\uptodown[2][]{\draw(#1.south)..controls + (0,-.5cm) and + (0,.5cm).. (#2.north);}
\newcommand\sdown[2][]{\draw(#1.south)--(#2.north);} %Straight down
\def\myem{\Large \bf}
#+END_SRC
*** aligned equations in a node
#+BEGIN_SRC latex
\documentclass{article}
\usepackage{tikz}
\usepackage{amsmath}
\begin{document}
\begin{tikzpicture}[every node/.style={rectangle,draw}]
  \node {Example:}
  child {node {%
      $\begin{aligned}
        a &= bx + c\\
        a+b &= d +1
      \end{aligned}$}};
\end{tikzpicture}
\end{document}
#+END_SRC
*** multiple lines
#+BEGIN_SRC latex
\documentclass{article}

\usepackage{tikz}
\usetikzlibrary{shapes.multipart}

\begin{document}

\begin{tikzpicture}[every text node part/.style={align=center}]
  \node (test) [rectangle, draw] {this node \\ has \\ four \\lines};
\end{tikzpicture}
\end{document}
#+END_SRC
*** name a style
#+BEGIN_SRC latex
  \begin{scope}[text width=2cm]
    \tikzstyle{my_c} = [rectangle, text width=4cm] %create a style

    \matrix[matrix anchor=gt_seis_f.north,
    draw=none,
    below right of=spec_a,
    column sep=2cm
    ]{
      \node[my_c] (gt_seis_f) {%
        Calc seismic force $F_b$ (a.k.a Base shear)

        $F_b = S_d(T_1) \times m \times \lambda$
      }; &
      \node (flr_m) {The mass of each floor $\{m_1 \cdots m_n\}$};&
      \node (flr_z) {The level of each floor $\{z_1 \cdots z_n\}$};&
      \node[my_c] (ck_high) {Verify that
        $T_2 < 2$s and $T_1 \le 4T_C$, so that
        higher order effects can be ignored.
      };\\
    };
  \end{scope}
#+END_SRC
*** arrow
#+begin_src latex
  \usetikzlibrary{arrows.meta}    %-o arrow head
  \usetikzlibrary{arrows}

  % See page 173
  \draw[very thick,-o] (0,0) |- (1,1); %up then right
  \draw[very thick,-latex] (0,0) |- (1,1); %up then right
#+end_src
** tcolorbox
*** why there's a space between my code and my box border when using minted?
#+begin_src latex
  Instead of 
  \begin{simplec}
    struct Transaction {
      /* 数据在这 */
    }
  \end{simplec}

  Do
  \begin{simplec}
    struct Transaction {
      /* 数据在这 */
    }\end{simplec}

#+end_src

** minipage
*** basic
#+BEGIN_SRC latex
% Basic use of minipage environment
\documentclass{article}

\begin{document}

Look at this text,
\begin{minipage}{3cm}
  This text is processed in paragraph mode, and then becomes an indivisible \TeX{} box.
\end{minipage}
how strange!
\end{document}

#+END_SRC
*** add indent
#+BEGIN_SRC latex
% Indentation in minipages
\documentclass{article}

\begin{document}

Look at this text,
\begin{minipage}{3cm}
  \setlength{\parindent}{2em}
  This text is processed in paragraph mode, and then becomes an indivisible \TeX{} box.
\end{minipage}
how strange!
\end{document}

\end{document}
#+END_SRC
*** left/center/right
#+BEGIN_SRC latex
% Indentation in minipages
\documentclass{article}
\usepackage{ragged2e}

\begin{document}

Look at this text,
\begin{minipage}{3cm}
  \begin{FlushLeft}
    I am left
  \end{FlushLeft}
  I am also left
  \begin{Center}
    I am center
  \end{Center}
  \begin{FlushRight}
    I am right
  \end{FlushRight}
\end{minipage}
how strange!
\end{document}

#+END_SRC

*** vertical alignment
#+BEGIN_SRC latex
% Vertical alignmemnt of minipage content
\documentclass{article}

% Change page layout
\usepackage[margin=2cm]{geometry}

% t and b align the top and bottom line of the parbox with the text line,
% respectively.

\begin{document}

This is
\begin{minipage}[b]{2.5cm}
  \textbf{A paragraph aligned at the bottom.}
\end{minipage}
and this is
\begin{minipage}{2.5cm}
  \textbf{A paragraph aligned at the centre.}
\end{minipage}
and the last one is 
\begin{minipage}[t]{2.5cm}
  \textbf{A paragraph aligned at the top.}
\end{minipage}

\end{document}

#+END_SRC

*** sizing the box
#+BEGIN_SRC latex
% Set vertical positioning of LaTeX minipage
\documentclass{article}

\begin{document}

This text is
\raisebox{-2cm}                 %-2cm below baseline
{
  \begin{minipage}{5cm}         %5cm wide
    \textit{way below}
  \end{minipage}
} the base line of text

\end{document}
#+END_SRC

*** where to put the contents (general syntex)
    #+BEGIN_SRC latex
    \documentclass{article}

\begin{document}

% \begin{minipage}[position][height][inner-pos]{width}

Where \texttt{height} is the height of minipage, and \texttt{inner-pos} controls
where the contents is placed  inside the box. It can be:
\begin{itemize}
\item \texttt{t} to \textbf{place the contents at the top}
\item \texttt{c} to \textbf{place the contents at the center}
\item \texttt{b} to \textbf{place the contents at the bottom}
\item \texttt{s} to \textbf{stretch the contents vertically}
  
\end{itemize}

Don’t go down the stairs!\hspace{3em}
\begin{minipage}[c][3ex][t]{2em}
  stair
\end{minipage}
\begin{minipage}[c][3ex][c]{2em}
  stair
\end{minipage}
\begin{minipage}[c][3ex][b]{2em}
  stair
\end{minipage}

\end{document}
    #+END_SRC
